<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Oracle: 2026 Destiny Analysis</title>
    
    <!-- React & Tailwind CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;500;700&family=Pretendard:wght@300;400;600&display=swap');

        body {
            background-color: #050505;
            color: #e0ffe0;
            font-family: 'Pretendard', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .font-serif { font-family: 'Noto Serif KR', serif; }

        /* Glassmorphism */
        .glass-panel {
            background: rgba(20, 30, 20, 0.65);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(100, 255, 150, 0.15);
            box-shadow: 0 8px 32px 0 rgba(0, 20, 10, 0.5);
        }

        .glass-input {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(100, 255, 150, 0.2);
            color: #ccffcc;
        }
        .glass-input:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
        }

        .glass-btn {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 100, 50, 0.2) 100%);
            border: 1px solid rgba(0, 255, 136, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .glass-btn:hover {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.3) 0%, rgba(0, 100, 50, 0.4) 100%);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
            transform: translateY(-2px);
        }

        /* Animations */
        .aurora-bg {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(0, 255, 136, 0.08), transparent 40%),
                        radial-gradient(circle at 80% 20%, rgba(0, 100, 255, 0.05), transparent 40%);
            animation: rotate 20s linear infinite;
            z-index: -1;
            pointer-events: none;
        }
        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .fade-in { animation: fadeIn 0.8s ease-in forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .glow-text { text-shadow: 0 0 10px rgba(0, 255, 136, 0.7); }

        .orb {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(200, 255, 220, 0.8), rgba(0, 255, 136, 0.4), rgba(0, 50, 20, 0));
            box-shadow: 0 0 60px rgba(0, 255, 136, 0.5);
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) scale(1); filter: hue-rotate(0deg); }
            50% { transform: translateY(-20px) scale(1.05); filter: hue-rotate(20deg); }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #005533; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #00ff88; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Constants ---
        const CELESTIAL_STEMS = ["ê°‘(ç”²)", "ì„(ä¹™)", "ë³‘(ä¸™)", "ì •(ä¸)", "ë¬´(æˆŠ)", "ê¸°(å·±)", "ê²½(åºš)", "ì‹ (è¾›)", "ì„(å£¬)", "ê³„(ç™¸)"];
        const EARTHLY_BRANCHES = ["ì(å­)", "ì¶•(ä¸‘)", "ì¸(å¯…)", "ë¬˜(å¯)", "ì§„(è¾°)", "ì‚¬(å·³)", "ì˜¤(åˆ)", "ë¯¸(æœª)", "ì‹ (ç”³)", "ìœ (é…‰)", "ìˆ (æˆŒ)", "í•´(äº¥)"];
        const FIVE_ELEMENTS = {
            "ç”²": "wood", "ä¹™": "wood", "å¯…": "wood", "å¯": "wood",
            "ä¸™": "fire", "ä¸": "fire", "å·³": "fire", "åˆ": "fire",
            "æˆŠ": "earth", "å·±": "earth", "è¾°": "earth", "æˆŒ": "earth", "ä¸‘": "earth", "æœª": "earth",
            "åºš": "metal", "è¾›": "metal", "ç”³": "metal", "é…‰": "metal",
            "å£¬": "water", "ç™¸": "water", "äº¥": "water", "å­": "water"
        };
        const ELEMENT_NAMES = { wood: "ëª©(æœ¨)", fire: "í™”(ç«)", earth: "í† (åœŸ)", metal: "ê¸ˆ(é‡‘)", water: "ìˆ˜(æ°´)" };
        const MBTI_TYPES = ["ISTJ", "ISFJ", "INFJ", "INTJ", "ISTP", "ISFP", "INFP", "INTP", "ESTP", "ESFP", "ENFP", "ENTP", "ESTJ", "ESFJ", "ENFJ", "ENTJ"];
        const MBTI_TRAITS = {
            "ISTJ": { strength: "ì±…ì„ê°ê³¼ ì² ì €í•¨", weakness: "ì˜ˆê¸°ì¹˜ ëª»í•œ ë³€í™”ì— ëŒ€í•œ ìŠ¤íŠ¸ë ˆìŠ¤", behavior: "ê³„íšëŒ€ë¡œ ì§„í–‰í•˜ë ¤ëŠ” ì„±í–¥" },
            "ISFJ": { strength: "ì„±ì‹¤í•¨ê³¼ ë°°ë ¤ì‹¬", weakness: "ê±°ì ˆí•˜ì§€ ëª»í•´ ìŒ“ì´ëŠ” í”¼ë¡œ", behavior: "íƒ€ì¸ì„ ë•ëŠë¼ ìì‹ ì„ í¬ìƒí•˜ëŠ” ê²½í–¥" },
            "INFJ": { strength: "ê¹Šì€ í†µì°°ë ¥ê³¼ ì§ê´€", weakness: "í˜„ì‹¤ì ì¸ ì‹¤í–‰ë ¥ ë¶€ì¡±", behavior: "ì˜ë¯¸ë¥¼ ì°¾ê¸° ìœ„í•´ ê¹Šê²Œ ê³ ë¯¼í•˜ëŠ” íƒœë„" },
            "INTJ": { strength: "ê±°ì‹œì ì¸ ì „ëµì  ì‚¬ê³ ", weakness: "íƒ€ì¸ì˜ ê°ì •ì— ëŒ€í•œ ë¬´ê´€ì‹¬", behavior: "íš¨ìœ¨ì„±ì„ ìœ„í•´ ê°ì •ì„ ë°°ì œí•˜ëŠ” ì„±í–¥" },
            "ISTP": { strength: "ìƒí™© ì ì‘ë ¥ê³¼ ê¸°ìˆ ", weakness: "ì§€ë£¨í•¨ì„ ëª» ê²¬ë””ëŠ” ì¶©ë™ì„±", behavior: "ì¦‰í¥ì ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ëŠ” ì„±í–¥" },
            "ISFP": { strength: "ì˜¨í™”í•¨ê³¼ ì˜ˆìˆ ì  ê°ê°", weakness: "ê°ˆë“± ìƒí™© íšŒí”¼", behavior: "í˜„ì¬ì˜ ê°ì •ì— ì¶©ì‹¤í•œ íƒœë„" },
            "INFP": { strength: "ìˆœìˆ˜í•œ ì—´ì •ê³¼ ì°½ì˜ì„±", weakness: "í˜„ì‹¤ì ì¸ ê²½ì œ ê´€ë… ë¶€ì¡±", behavior: "ìì‹ ì˜ ê°€ì¹˜ê´€ì— ë”°ë¼ ì›€ì§ì´ëŠ” ì„±í–¥" },
            "INTP": { strength: "ë…¼ë¦¬ì  ë¶„ì„ë ¥", weakness: "ì‹¤í–‰ë³´ë‹¤ ìƒê°ì´ ë„ˆë¬´ ë§ìŒ", behavior: "ì´ë¡ ì  ì™„ë²½í•¨ì„ ì¶”êµ¬í•˜ëŠ” íƒœë„" },
            "ESTP": { strength: "ëŒ€ë‹´í•¨ê³¼ í–‰ë™ë ¥", weakness: "ì¥ê¸°ì ì¸ ì•ˆëª© ë¶€ì¡±", behavior: "ìœ„í—˜ì„ ê°ìˆ˜í•˜ê³  ë›°ì–´ë“œëŠ” ì„±í–¥" },
            "ESFP": { strength: "ë‚™ì²œì„±ê³¼ ì‚¬êµì„±", weakness: "ì§„ì§€í•œ ìƒí™©ì—ì„œì˜ ì§‘ì¤‘ë ¥ ë¶€ì¡±", behavior: "ì¦ê±°ì›€ì„ ìµœìš°ì„ ìœ¼ë¡œ ë‘ëŠ” íƒœë„" },
            "ENFP": { strength: "í’ë¶€í•œ ìƒìƒë ¥ê³¼ ì—´ì •", weakness: "ë§ˆë¬´ë¦¬ê°€ ì•½í•˜ê³  ì‚°ë§Œí•¨", behavior: "ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì— ì‰½ê²Œ í¥ë¶„í•˜ëŠ” ì„±í–¥" },
            "ENTP": { strength: "ë…ì°½ì„±ê³¼ ë…¼ìŸ ì¦ê¹€", weakness: "ë°˜ë³µì ì¸ ì—…ë¬´ì— ëŒ€í•œ ì‹«ì¦", behavior: "ê¸°ì¡´ ì²´ê³„ì— ë„ì „í•˜ëŠ” íƒœë„" },
            "ESTJ": { strength: "ê°•ë ¥í•œ ë¦¬ë”ì‹­ê³¼ ì¶”ì§„ë ¥", weakness: "ìœµí†µì„± ì—†ëŠ” ì™„ê³ í•¨", behavior: "ì²´ê³„ì™€ ì§ˆì„œë¥¼ í™•ë¦½í•˜ë ¤ëŠ” ì„±í–¥" },
            "ESFJ": { strength: "í˜‘ë™ì‹¬ê³¼ ì‚¬êµë ¥", weakness: "ë¹„íŒì— ëŒ€í•œ ê³¼ë„í•œ ìƒì²˜", behavior: "ì¡°í™”ë¥¼ ìœ„í•´ ë…¸ë ¥í•˜ëŠ” íƒœë„" },
            "ENFJ": { strength: "ì¹´ë¦¬ìŠ¤ë§ˆì™€ ê³µê° ëŠ¥ë ¥", weakness: "íƒ€ì¸ì˜ ë¬¸ì œì— ì§€ë‚˜ì¹œ ê°œì…", behavior: "íƒ€ì¸ì„ ì´ëŒê³  ì„±ì¥ì‹œí‚¤ë ¤ëŠ” ì„±í–¥" },
            "ENTJ": { strength: "ê²°ë‹¨ë ¥ê³¼ í†µì†”ë ¥", weakness: "ê³¼ì •ë³´ë‹¤ ê²°ê³¼ë¥¼ ì¤‘ì‹œí•˜ëŠ” ì„±ê¸‰í•¨", behavior: "ëª©í‘œë¥¼ í–¥í•´ ì§ì§„í•˜ëŠ” íƒœë„" }
        };

        // --- Logic ---
        function getHanja(str) {
            if (!str) return "";
            const match = str.match(/\((.)\)/);
            return match ? match[1] : "";
        }

        function isBeforeIpchun(year, month, day) {
            if (month < 2) return true;
            if (month === 2 && day < 4) return true;
            return false;
        }

        function calculateSaju(birthDate, birthTime, gender, location) {
            const date = new Date(birthDate);
            if (isNaN(date.getTime())) throw new Error("ë‚ ì§œ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");

            let year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const [hour, minute] = birthTime.split(':').map(Number);

            let sajuYear = year;
            if (isBeforeIpchun(year, month, day)) sajuYear = year - 1;
            
            const yearGanIndex = (sajuYear - 4) % 10;
            const yearJiIndex = (sajuYear - 4) % 12;

            const refDate = new Date('1900-01-01T00:00:00');
            const targetDate = new Date(year, month - 1, day);
            const diffTime = Math.abs(targetDate - refDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            
            let totalDays = diffDays + 10; 
            let dayGanIndex = totalDays % 10;
            let dayJiIndex = totalDays % 12;

            let totalMinutes = hour * 60 + minute;
            if (location === "Seoul") totalMinutes -= 32; 
            else if (location === "Busan") totalMinutes -= 28; 

            if (totalMinutes < 0) totalMinutes += 1440;
            
            let timeJiIndex = -1;
            let isNextDay = false;
            
            if (totalMinutes >= 1410 || totalMinutes < 90) { 
                timeJiIndex = 0; 
                if (totalMinutes >= 1410) {
                    dayGanIndex = (dayGanIndex + 1) % 10;
                    dayJiIndex = (dayJiIndex + 1) % 12;
                    isNextDay = true;
                }
            } else {
                timeJiIndex = Math.floor((totalMinutes - 90) / 120) + 1;
            }

            const dayGanMod = dayGanIndex % 5;
            const timeGanStart = dayGanMod * 2; 
            const timeGanIndex = (timeGanStart + timeJiIndex) % 10;
            
            let sajuMonth = month;
            if (day < 6) sajuMonth -= 1;
            if (sajuMonth < 1) sajuMonth = 12;

            const yearGanMod = yearGanIndex % 5;
            const monthGanStart = (yearGanMod * 2 + 2) % 10;
            let monthGanIndex = (monthGanStart + (sajuMonth - 2)) % 10;
            if (monthGanIndex < 0) monthGanIndex += 10;
            const finalMonthJiIndex = (sajuMonth) % 12;

            const createPillar = (ganIdx, jiIdx) => {
                const ganStr = CELESTIAL_STEMS[ganIdx];
                const jiStr = EARTHLY_BRANCHES[jiIdx];
                const ganHanja = getHanja(ganStr);
                const jiHanja = getHanja(jiStr);
                return {
                    gan: ganStr, ji: jiStr,
                    ganElem: FIVE_ELEMENTS[ganHanja] || "wood", 
                    jiElem: FIVE_ELEMENTS[jiHanja] || "wood"
                };
            };

            return {
                year: createPillar(yearGanIndex, yearJiIndex),
                month: createPillar((monthGanIndex + 10)%10, finalMonthJiIndex),
                day: createPillar(dayGanIndex, dayJiIndex),
                time: createPillar(timeGanIndex, timeJiIndex),
                isYaJaSi: isNextDay
            };
        }

        function analyzeElements(pillars) {
            const counts = { wood: 0, fire: 0, earth: 0, metal: 0, water: 0 };
            const list = [pillars.year, pillars.month, pillars.day, pillars.time];
            list.forEach(p => {
                if (counts[p.ganElem] !== undefined) counts[p.ganElem]++;
                if (counts[p.jiElem] !== undefined) counts[p.jiElem]++;
            });
            return counts;
        }

        // --- Components ---

        const IntroScreen = ({ onStart }) => (
            <div className="flex flex-col items-center justify-center h-screen text-center px-4 fade-in z-10 relative">
                <div className="orb mb-8"></div>
                <h1 className="text-4xl md:text-5xl font-serif font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-300 via-green-100 to-green-300 glow-text">
                    The Oracle
                </h1>
                <p className="text-green-100/80 mb-8 max-w-md font-light leading-relaxed">
                    ìš´ëª…ì€ ì •í•´ì§„ ê²ƒì´ ì•„ë‹ˆë¼, ë°œê²¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.<br/>
                    ë‹¹ì‹ ì˜ ì‚¬ì£¼(Time)ì™€ ì„±í–¥(Type)ì„ í†µí•´<br/>
                    2026ë…„ ë‹¤ê°€ì˜¬ íë¦„ì„ ì½ì–´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
                </p>
                <button onClick={onStart} className="glass-btn px-8 py-3 rounded-full text-green-200 font-medium tracking-widest uppercase hover:text-white">
                    ë¯¸ë˜ ë“¤ì—¬ë‹¤ë³´ê¸°
                </button>
            </div>
        );

        const InputScreen = ({ onSubmit }) => {
            const [formData, setFormData] = useState({ name: '', birthDate: '', birthTime: '', location: 'Seoul', mbti: '' });

            const handleChange = (e) => setFormData({...formData, [e.target.name]: e.target.value});
            const handleSubmit = (e) => {
                e.preventDefault();
                if(!formData.name || !formData.birthDate || !formData.birthTime || !formData.mbti) {
                    alert("ëª¨ë“  ì •ë³´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì‹­ì‹œì˜¤.");
                    return;
                }
                onSubmit(formData);
            };

            return (
                <div className="flex flex-col items-center justify-center min-h-screen px-4 py-8 fade-in z-10 relative">
                    <div className="glass-panel p-8 rounded-2xl w-full max-w-md">
                        <h2 className="text-2xl font-serif text-center mb-6 text-green-300">ìš´ëª…ì˜ ì¢Œí‘œ ì…ë ¥</h2>
                        <form onSubmit={handleSubmit} className="space-y-5">
                            <div>
                                <label className="block text-xs text-green-400/70 mb-1 uppercase tracking-wider">ì´ë¦„ (Nickname)</label>
                                <input type="text" name="name" onChange={handleChange} className="glass-input w-full p-3 rounded-lg text-white" placeholder="í™ê¸¸ë™" required />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-xs text-green-400/70 mb-1 uppercase tracking-wider">ìƒë…„ì›”ì¼</label>
                                    <input type="date" name="birthDate" onChange={handleChange} className="glass-input w-full p-3 rounded-lg text-white" required />
                                </div>
                                <div>
                                    <label className="block text-xs text-green-400/70 mb-1 uppercase tracking-wider">íƒœì–´ë‚œ ì‹œê°„</label>
                                    <input type="time" name="birthTime" onChange={handleChange} className="glass-input w-full p-3 rounded-lg text-white" required />
                                </div>
                            </div>
                            <div>
                                <label className="block text-xs text-green-400/70 mb-1 uppercase tracking-wider">íƒœì–´ë‚œ ì§€ì—­</label>
                                <select name="location" onChange={handleChange} className="glass-input w-full p-3 rounded-lg text-white">
                                    <option value="Seoul">ì„œìš¸/ê²½ê¸° (í‘œì¤€)</option>
                                    <option value="Busan">ë¶€ì‚°/ê²½ë‚¨ (-4ë¶„)</option>
                                    <option value="Global">í•´ì™¸</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-xs text-green-400/70 mb-1 uppercase tracking-wider">MBTI ìœ í˜•</label>
                                <div className="grid grid-cols-4 gap-2">
                                    {MBTI_TYPES.map(type => (
                                        <button key={type} type="button" onClick={() => setFormData({...formData, mbti: type})}
                                            className={`p-2 rounded text-xs transition-colors ${formData.mbti === type ? 'bg-green-600 text-white shadow-[0_0_10px_#00ff88]' : 'bg-white/5 text-green-100/60 hover:bg-white/10'}`}>
                                            {type}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            <button type="submit" className="glass-btn w-full py-4 rounded-xl text-green-200 font-bold mt-4 tracking-widest">ë¶„ì„ ì‹œì‘</button>
                        </form>
                    </div>
                </div>
            );
        };

        const LoadingScreen = () => {
            const [message, setMessage] = useState("ë³„ì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì¤‘...");
            useEffect(() => {
                const msgs = ["ìƒë…„ì›”ì¼ì˜ ê¸°ìš´ì„ í•´ë…í•˜ëŠ” ì¤‘...", "ì§„íƒœì–‘ì‹œ(çœå¤ªé™½æ™‚) ì˜¤ì°¨ë¥¼ ë³´ì •í•˜ëŠ” ì¤‘...", "2026ë…„ ë³‘ì˜¤ë…„(ä¸™åˆå¹´)ì˜ í™”ê¸°ë¥¼ ë¶„ì„í•˜ëŠ” ì¤‘...", "ë‹¹ì‹ ì˜ ì„±í–¥ê³¼ ìš´ëª…ì˜ êµì°¨ì ì„ ì°¾ëŠ” ì¤‘..."];
                let i = 0;
                const interval = setInterval(() => { setMessage(msgs[i]); i = (i + 1) % msgs.length; }, 1500);
                return () => clearInterval(interval);
            }, []);

            return (
                <div className="flex flex-col items-center justify-center h-screen fade-in z-10 relative">
                    <div className="relative">
                        <div className="orb w-32 h-32 animate-pulse"></div>
                        <div className="absolute top-0 left-0 w-full h-full border-t-2 border-green-400 rounded-full animate-spin"></div>
                    </div>
                    <p className="mt-8 text-green-200 font-serif text-lg animate-pulse">{message}</p>
                </div>
            );
        };

        const ResultScreen = ({ data, onReset }) => {
            const [activeTab, setActiveTab] = useState('total');
            if (!data || !data.pillars) return null;

            const { name, mbti, pillars, elements } = data;
            const myDayElem = pillars.day.ganElem || 'wood';
            const mbtiInfo = MBTI_TRAITS[mbti] || MBTI_TRAITS["ISTJ"];
            const myElemName = ELEMENT_NAMES[myDayElem] || "ë¯¸ì§€";

            const getMonthlyKeywords = () => {
                let spring, summer, autumn, winter;
                if (myDayElem === 'wood') {
                    spring = "ë¹„ê²¬/ê²ì¬ìš´ - ê²½ìŸì´ ì¹˜ì—´í•´ì§"; summer = "ì‹ìƒìš´ - í™œë™ë ¥ í­ë°œ, íƒˆì§„ ì£¼ì˜"; autumn = "ê´€ì„±ìš´ - ì§ì¥ ë‚´ ì••ë°•ê° ìƒìŠ¹"; winter = "ì¸ì„±ìš´ - íœ´ì‹ê³¼ ë¬¸ì„œ ê³„ì•½ì˜ ì‹œê¸°";
                } else if (myDayElem === 'fire') {
                    spring = "ì¸ì„±ìš´ - ê·€ì¸ì˜ ë„ì›€"; summer = "ë¹„ê²ìš´ - ìì¡´ì‹¬ ëŒ€ë¦½ ì£¼ì˜"; autumn = "ì¬ì„±ìš´ - ê²°ì‹¤ì„ ë§ºëŠ” ì‹œê¸°"; winter = "ê´€ì„±ìš´ - ëª…ì˜ˆì™€ ì±…ì„ê°";
                } else if (myDayElem === 'earth') {
                    spring = "ê´€ì„±ìš´ - ìƒˆë¡œìš´ ì§ì±…, ìŠ¤íŠ¸ë ˆìŠ¤"; summer = "ì¸ì„±ìš´ - ë¬¸ì„œ ì·¨ë“, í•™ìŠµ"; autumn = "ì‹ìƒìš´ - ì•„ì´ë””ì–´ í‘œì¶œ"; winter = "ì¬ì„±ìš´ - í˜„ê¸ˆ íë¦„ ì›í™œ";
                } else if (myDayElem === 'metal') {
                    spring = "ì¬ì„±ìš´ - íˆ¬ì ìœ í˜¹, ì§€ì¶œ ê´€ë¦¬"; summer = "ê´€ì„±ìš´ - ìŠ¹ì§„ ê¸°íšŒ í˜¹ì€ ê³¼ë¡œ"; autumn = "ë¹„ê²ìš´ - ë™ë£Œì™€ í˜‘ì—…"; winter = "ì‹ìƒìš´ - ì°½ì˜ë ¥ ë°œíœ˜";
                } else {
                    spring = "ì‹ìƒìš´ - ìƒˆë¡œìš´ ì‹œì‘, í‘œí˜„"; summer = "ì¬ì„±ìš´ - í° ëˆì„ ë§Œì§ˆ ê¸°íšŒ"; autumn = "ì¸ì„±ìš´ - ë‚´ì‹¤ ë‹¤ì§€ê¸°"; winter = "ë¹„ê²ìš´ - ì£¼ë„ê¶Œ ì¡ê¸°";
                }
                return [
                    { season: "ë´„ (2~4ì›”)", text: spring, detail: "ìƒˆë¡œìš´ ì‹¹ì´ íŠ¸ëŠ” ì‹œê¸°ì´ë‚˜, 2026ë…„ì˜ ë´„ì€ ë¶ˆì”¨ë¥¼ ë¨¸ê¸ˆê³  ìˆìŠµë‹ˆë‹¤. ì‹œì‘ë¶€í„° ë„ˆë¬´ ë¬´ë¦¬í•˜ì§€ ë§ˆì„¸ìš”." },
                    { season: "ì—¬ë¦„ (5~7ì›”)", text: summer, detail: "ë³‘ì˜¤ë…„ì˜ í™”ê¸°ê°€ ì ˆì •ì— ë‹¬í•©ë‹ˆë‹¤. ì„±ê³¼ê°€ ê°€ì¥ ëšœë ·í•˜ì§€ë§Œ ê°ì • ê¸°ë³µ ë˜í•œ ê°€ì¥ ì‹¬í•œ ì‹œê¸°ì…ë‹ˆë‹¤." },
                    { season: "ê°€ì„ (8~10ì›”)", text: autumn, detail: "ëœ¨ê±°ì› ë˜ ì—´ê¸°ê°€ ì‹ê³  ê²°ì‹¤ì´ ë‹¨ë‹¨í•´ì§‘ë‹ˆë‹¤. ìƒë°˜ê¸°ì— ë²Œë ¤ë†“ì€ ì¼ì„ ì •ë¦¬í•˜ê³  ìˆ˜í™•í•´ì•¼ í•©ë‹ˆë‹¤." },
                    { season: "ê²¨ìš¸ (11~1ì›”)", text: winter, detail: "ìˆ˜(Water) ê¸°ìš´ì´ ë“¤ì–´ì™€ í™”ê¸°ë¥¼ ì‹í˜€ì¤ë‹ˆë‹¤. ë‹¤ìŒ í•´ë¥¼ ìœ„í•œ ì¬ì¶©ì „ê³¼ ëƒ‰ì² í•œ íŒë‹¨ì´ í•„ìš”í•©ë‹ˆë‹¤." }
                ];
            };

            const getDetailedAdvice = (topic) => {
                let context = "", conflict = "", mbtiReaction = "", solution = "";

                if (topic === "total") {
                    context = `2026ë…„ ë³‘ì˜¤ë…„(ä¸™åˆå¹´)ì€ 'ë¶‰ì€ ë§'ì˜ í•´ë¡œ, í•˜ëŠ˜ê³¼ ë•…ì´ ëª¨ë‘ ë¶ˆíƒ€ì˜¤ë¥´ëŠ” í˜•êµ­ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì¤‘ì‹¬ ê¸°ìš´ì¸ '${myElemName}'ì—ê²Œ ì´ ê°•ë ¥í•œ í™”(Fire) ì—ë„ˆì§€ëŠ” í”¼í•  ìˆ˜ ì—†ëŠ” ê±°ëŒ€í•œ íŒŒë„ì™€ ê°™ìŠµë‹ˆë‹¤. `;
                    if (myDayElem === 'water') {
                        context += "ë‹¹ì‹ ì€ ë¬¼(Water)ì˜ ê¸°ìš´ì„ íƒ€ê³ ë‚˜, ì´ ëœ¨ê±°ìš´ ë¶ˆê¸¸ì„ ë‹¤ìŠ¤ë ¤ì•¼ í•˜ëŠ” ìš´ëª…ì…ë‹ˆë‹¤. ë¶ˆì€ ë‹¹ì‹ ì—ê²Œ 'ì¬ë¬¼'ì´ì 'ê²°ê³¼ë¬¼'ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì˜¬í•´ëŠ” ê°ë‹¹í•˜ê¸° ë²…ì°° ë§Œí¼ í° ê¸°íšŒê°€ ì°¾ì•„ì˜µë‹ˆë‹¤.";
                        conflict = "í•˜ì§€ë§Œ ë¬¼ì´ ì ê³  ë¶ˆì´ ë„ˆë¬´ ê°•í•˜ë©´, ë¬¼ì´ ì¦ë°œí•´ë²„ë¦¬ë“¯ ë‹¹ì‹ ì˜ ì •ì‹ ì  ì—ë„ˆì§€ê°€ ê³ ê°ˆë  ìœ„í—˜ì´ í½ë‹ˆë‹¤. 'ëˆì„ ë²Œë‹¤ê°€ ê±´ê°•ì„ ìƒëŠ”' ì „í˜•ì ì¸ í•´ê°€ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.";
                    } else if (myDayElem === 'metal') {
                        context += "ë‹¹ì‹ ì€ ê¸ˆ(Metal)ì˜ ê¸°ìš´ì…ë‹ˆë‹¤. ë¶ˆì€ ê¸ˆì„ ë…¹ì—¬ ë„êµ¬ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì˜¬í•´ëŠ” ë‹¹ì‹ ì„ ë‹¨ë ¨ì‹œí‚¤ëŠ” ì‹œë ¨ê³¼ ì„±ì¥ì˜ ì‹œê¸°ì…ë‹ˆë‹¤. ì§ì¥ì´ë‚˜ ì¡°ì§ì—ì„œì˜ ì••ë°•ì´ ê±°ì„¸ì§‘ë‹ˆë‹¤.";
                        conflict = "ìŠ¤ìŠ¤ë¡œë¥¼ ê·¹í•œê¹Œì§€ ëª°ì•„ë¶™ì´ê²Œ ë˜ë©°, ì´ëŠ” ì—„ì²­ë‚œ ì„±ê³¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ë„ ìˆì§€ë§Œ, ìì¹«í•˜ë©´ ë¶€ëŸ¬ì§€ê±°ë‚˜ ë…¹ì•„ë‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ê²½ì„± ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì¡°ì‹¬í•´ì•¼ í•©ë‹ˆë‹¤.";
                    } else if (myDayElem === 'fire') {
                        context += "ë‹¹ì‹  ë˜í•œ ë¶ˆ(Fire)ì…ë‹ˆë‹¤. ë¶ˆì´ ë¶ˆì„ ë§Œë‚˜ë‹ˆ ê²½ìŸìê°€ ë„˜ì³ë‚˜ê³  ìì¡´ì‹¬ ëŒ€ê²°ì´ ì¹˜ì—´í•´ì§‘ë‹ˆë‹¤. ì¹œêµ¬ì´ì ì ì´ ê³µì¡´í•˜ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤.";
                        conflict = "ë‚´ ëª«ì„ ë‚˜ëˆ„ì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ ì˜¤ê±°ë‚˜, ë…ë‹¨ì ì¸ ê²°ì •ìœ¼ë¡œ ê³ ë¦½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì£¼ë³€ì˜ ì¡°ì–¸ì´ ê·€ì— ë“¤ì–´ì˜¤ì§€ ì•ŠëŠ” ê²ƒì´ ê°€ì¥ í° ë¬¸ì œì…ë‹ˆë‹¤.";
                    } else if (myDayElem === 'wood') {
                        context += "ë‹¹ì‹ ì€ ë‚˜ë¬´(Wood)ì…ë‹ˆë‹¤. ë¶ˆì„ ìƒ(ç”Ÿ)í•´ì£¼ëŠ” ì—­í• ì„ í•˜ë‹ˆ, ë‹¹ì‹ ì˜ ì¬ëŠ¥ê³¼ ì•„ì´ë””ì–´ê°€ ì„¸ìƒ ë°–ìœ¼ë¡œ ìŸì•„ì ¸ ë‚˜ì˜¤ëŠ” í•´ì…ë‹ˆë‹¤.";
                        conflict = "í•˜ì§€ë§Œ ë•”ê°ì´ ë‹¤ íƒ€ë²„ë¦¬ë©´ ì¬ë§Œ ë‚¨ë“¯, ìì‹ ì˜ ëª¨ë“  ê²ƒì„ íƒœì›Œ ë‚¨ ì¢‹ì€ ì¼ë§Œ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì†ì„ ì±™ê¸°ëŠ” ê²ƒì´ ê´€ê±´ì…ë‹ˆë‹¤.";
                    } else { 
                        context += "ë‹¹ì‹ ì€ í™(Earth)ì…ë‹ˆë‹¤. ë¶ˆì€ í™ì„ ë‹¨ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ì£¼ë³€ì˜ ì§€ì§€ì™€ í›„ì›ì„ ë°›ì•„ ë¬¸ì„œë¥¼ ì¡ê±°ë‚˜ ìê²©ì¦ì„ ë”°ê¸°ì— ìµœì ì˜ ì‹œê¸°ì…ë‹ˆë‹¤.";
                        conflict = "ìƒê°ì´ ë„ˆë¬´ ë§ì•„ì ¸ ê²Œì„ëŸ¬ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëœ¨ê±°ìš´ ë•…ì€ ë¬¼ì´ ì—†ìœ¼ë©´ ìƒëª…ì´ ìë¼ì§€ ëª»í•˜ë“¯, ìœµí†µì„±ì´ ì—†ì–´ ë‹µë‹µí•˜ë‹¤ëŠ” í‰ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                    }
                    mbtiReaction = `ì—¬ê¸°ì— ë‹¹ì‹ ì˜ MBTIì¸ ${mbti} ì„±í–¥ì„ ë”í•´ë³´ë©´, ë‹¹ì‹ ì€ ${mbtiInfo.behavior}í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ìŠ¤íŠ¸ë ˆìŠ¤ ìƒí™©ì—ì„œ '${mbtiInfo.weakness}'í•˜ëŠ” ë‹¨ì ì´ 2026ë…„ì˜ ê°•í•œ ì—ë„ˆì§€ì™€ ì¶©ëŒí•  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.`;
                    solution = `[ì˜ˆì–¸ìì˜ ì¡°ì–¸]\nìš´ëª…ì˜ íë¦„ì€ ê±°ì„¸ì§€ë§Œ í‚¤ëŠ” ë‹¹ì‹ ì´ ì¥ê³  ìˆìŠµë‹ˆë‹¤. ${mbti.includes('J') ? 'ê³„íšì— ë„ˆë¬´ ì§‘ì°©í•˜ì§€ ë§ê³  ë³€í™”ì˜ íŒŒë„ë¥¼ íƒ€ì‹­ì‹œì˜¤.' : 'ì¦‰í¥ì ì¸ ê²°ì •ë³´ë‹¤ëŠ” í•œ ë²ˆ ë” ë©ˆì¶”ì–´ ìƒê°í•˜ëŠ” ì¸ë‚´ì‹¬ì´ í•„ìš”í•©ë‹ˆë‹¤.'} ì˜¬í•´ëŠ” 'ì†ë„'ë³´ë‹¤ëŠ” 'ë°©í–¥'ì…ë‹ˆë‹¤. ë‹¹ì‹ ì´ ê°€ì§„ '${mbtiInfo.strength}'ì„(ë¥¼) ë°©íŒ¨ ì‚¼ì•„ ë‚˜ì•„ê°€ì„¸ìš”.`;
                } else if (topic === "wealth") {
                    context = "ì˜¬í•´ì˜ ì¬ë¬¼ìš´ì€ ë§¤ìš° ì—­ë™ì ì…ë‹ˆë‹¤. ì •í•´ì§„ ì›”ê¸‰ë³´ë‹¤ëŠ” íˆ¬ì, ì„±ê³¼ê¸‰, í˜¹ì€ ë¶€ì—… ë“± ë³€ë™ì„± ìì‚°ì˜ íë¦„ì´ ê°•í•©ë‹ˆë‹¤. ëˆì´ ë“¤ì–´ì˜¤ëŠ” ì†ë„ë§Œí¼ ë‚˜ê°€ëŠ” ì†ë„ë„ ë¹ ë¥¼ ê²ƒì…ë‹ˆë‹¤.";
                    conflict = "íŠ¹íˆ 'í•œ ë°©'ì„ ë…¸ë¦¬ê³  ì‹¶ì€ ìœ í˜¹ì´ ê°•í•´ì§‘ë‹ˆë‹¤. ì‚¬ì£¼ìƒ ì¬ë¬¼ ì°½ê³ ê°€ ì—´ë ¤ìˆìœ¼ë‚˜, ë„ë‘‘ë„ í•¨ê»˜ ë¬¸ ì•ì— ì„œ ìˆëŠ” í˜•êµ­ì…ë‹ˆë‹¤.";
                    mbtiReaction = mbti.includes('P') ? `ë‹¹ì‹ ì˜ ${mbti} ì„±í–¥ì€ ì¶©ë™ì ì¸ ì§€ì¶œì´ë‚˜ íˆ¬ìì— ì·¨ì•½í•©ë‹ˆë‹¤. ê¸°ë¶„ì´ ì¢‹ì•„ì„œ í•œí„± ë‚´ê±°ë‚˜, ê°ì— ì˜ì¡´í•œ íˆ¬ìë¥¼ í•  ìœ„í—˜ì´ ë§¤ìš° í½ë‹ˆë‹¤.` : `ë‹¹ì‹ ì˜ ${mbti} ì„±í–¥ì€ ë„ˆë¬´ ì‹ ì¤‘í•˜ì—¬ ëˆˆì•ì˜ ê¸°íšŒë¥¼ ë†“ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì˜¬í•´ë§Œí¼ì€ ëŒë‹¤ë¦¬ë„ ë‘ë“œë ¤ë³´ê³  ê±´ë„ˆì§€ ì•ŠëŠ” ê²ƒì´ ë‚˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
                    solution = "í˜„ê¸ˆë³´ë‹¤ëŠ” ë¬¶ì–´ë‘ëŠ” ìì‚°(ë¶€ë™ì‚°, ì ê¸ˆ)ìœ¼ë¡œ ë³€ê²½í•˜ì‹­ì‹œì˜¤. ì˜¬í•´ëŠ” 'ë²„ëŠ” ê²ƒ'ë³´ë‹¤ 'ì§€í‚¤ëŠ” ê²ƒ'ì´ ê³§ ìˆ˜ìµë¥ ì…ë‹ˆë‹¤.";
                } else if (topic === "career") {
                    context = "ì§ì¥ê³¼ ì‚¬ì—…ì—ì„œëŠ” 'ì´ë™'ê³¼ 'ë³€í™”'ê°€ í‚¤ì›Œë“œì…ë‹ˆë‹¤. ê°€ë§Œíˆ ìˆê³  ì‹¶ì–´ë„ ì£¼ë³€ í™˜ê²½ì´ ë‹¹ì‹ ì„ ì›€ì§ì´ê²Œ ë§Œë“­ë‹ˆë‹¤. ë¶€ì„œ ì´ë™, ì´ì§, í˜¹ì€ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§¡ê²Œ ë©ë‹ˆë‹¤.";
                    conflict = "ì±…ì„ê°ì´ ë¬´ê±°ì›Œì§€ëŠ” í•´ì…ë‹ˆë‹¤. ëŠ¥ë ¥ì„ ì¸ì •ë°›ì„ ê¸°íšŒì´ì§€ë§Œ, ê·¸ë§Œí¼ì˜ í¬ìƒì„ ê°•ìš”ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì‚¬ë‚˜ ì¡°ì§ê³¼ì˜ ê°ˆë“±ìˆ˜ë„ ë³´ì…ë‹ˆë‹¤.";
                    mbtiReaction = mbti.includes('T') ? `ë…¼ë¦¬ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•˜ë ¤ë‹¤ ë™ë£Œë“¤ì—ê²Œ 'ì°¨ê°€ìš´ ì‚¬ëŒ'ìœ¼ë¡œ ì˜¤í•´ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ${mbti} íŠ¹ìœ ì˜ ì§ì„¤í™”ë²•ì´ ë¶ˆë‚œ ì§‘ì— ë¶€ì±„ì§ˆì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.` : `ê´€ê³„ì—ì„œì˜ ê°ˆë“±ì„ í”¼í•˜ë ¤ë‹¤ í˜¼ì ë™ë™ ì•“ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê±°ì ˆí•˜ì§€ ëª»í•˜ëŠ” ${mbti}ì˜ ì„±í–¥ì´ ì—…ë¬´ ê³¼ì¤‘ì„ ë¶€ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
                    solution = "ì˜¬í•´ëŠ” 'ê²¸ì†'ì´ ìµœê³ ì˜ ë¬´ê¸°ì…ë‹ˆë‹¤. ëŠ¥ë ¥ì„ ë“œëŸ¬ë‚´ë˜ ê³µì€ íƒ€ì¸ì—ê²Œ ëŒë¦¬ì‹­ì‹œì˜¤. ê·¸ê²ƒì´ ê²°êµ­ ë” í° ë³´ìƒìœ¼ë¡œ ëŒì•„ì˜¬ ê²ƒì…ë‹ˆë‹¤.";
                } else if (topic === "love") {
                    context = "2026ë…„ì€ ë„í™”ì‚´(ì¸ê¸°ìš´)ì´ ê°•í•˜ê²Œ ì‘ìš©í•˜ëŠ” í•´ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë§¤ë ¥ì´ ë°–ìœ¼ë¡œ ë“œëŸ¬ë‚˜ë©°, ìƒˆë¡œìš´ ì¸ì—°ì´ ë‹¿ì„ ê¸°íšŒê°€ ë§ìŠµë‹ˆë‹¤.";
                    conflict = "í•˜ì§€ë§Œ í™”ë ¤í•œ ê²‰ëª¨ìŠµì— ë¹„í•´ ì‹¤ì†ì´ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§§ê³  ê°•ë ¬í•œ ë§Œë‚¨ì´ ë°˜ë³µë˜ê±°ë‚˜, ì´ë¯¸ ì—°ì¸ì´ ìˆë‹¤ë©´ ê°ì • ì‹¸ì›€ì´ ì¦ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                    mbtiReaction = mbti.includes('E') ? "ë„ˆë¬´ ë§ì€ ì‚¬ëŒì„ ë§Œë‚˜ ì—ë„ˆì§€ê°€ ë¶„ì‚°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¹Šì´ ìˆëŠ” ê´€ê³„ë³´ë‹¤ëŠ” ê°€ë²¼ìš´ ë§Œë‚¨ì— ì¹˜ì¤‘í•  ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤." : "ì†ë§ˆìŒì„ í‘œí˜„í•˜ì§€ ì•Šì•„ ìƒëŒ€ë°©ì„ ë‹µë‹µí•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜¼ìë§Œì˜ ë™êµ´ë¡œ ë“¤ì–´ê°€ëŠ” ${mbti}ì˜ ìŠµê´€ì´ ì´ë³„ì„ ë¶€ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                    solution = "ë³´ì—¬ì§€ëŠ” ì¡°ê±´ë³´ë‹¤ëŠ” ëŒ€í™”ê°€ í†µí•˜ëŠ”ì§€ì— ì§‘ì¤‘í•˜ì‹­ì‹œì˜¤. ì˜¬í•´ ë§Œë‚˜ëŠ” ì¸ì—°ì€ ë‹¹ì‹ ì˜ ì¸ìƒ ê°€ì¹˜ê´€ì„ ë°”ê¿€ ìˆ˜ ìˆëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.";
                } else if (topic === "health") {
                    context = "ë¶ˆê¸°ìš´ì´ ê°•í•˜ë©´ ìƒëŒ€ì ìœ¼ë¡œ ìˆ˜(Water)ì™€ ê¸ˆ(Metal) ê¸°ìš´ì´ ì•½í•´ì§‘ë‹ˆë‹¤. ì´ëŠ” ì‹ ì¥, ë°©ê´‘, í, í˜¸í¡ê¸° ê³„í†µì˜ ì•½í™”ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.";
                    conflict = "ë˜í•œ í™”ê¸°(Fire)ëŠ” ì‹¬ì¥ê³¼ í˜ˆê´€ì„ ì˜ë¯¸í•˜ë¯€ë¡œ, í˜ˆì•• ê´€ë¦¬ë‚˜ ìš±í•˜ëŠ” ì„±ê²©ìœ¼ë¡œ ì¸í•œ í™”ë³‘ì„ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ìˆ˜ë©´ ë¶€ì¡±ì´ ë§Œë³‘ì˜ ê·¼ì›ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
                    mbtiReaction = "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ìœ¼ë©´ ${mbtiInfo.weakness}í•˜ëŠ” ê²½í–¥ì´ ìˆêµ°ìš”. ì´ê²ƒì´ ì˜¬í•´ ê±´ê°•ì„ í•´ì¹˜ëŠ” ì£¼ë²”ì´ ë  ê²ƒì…ë‹ˆë‹¤.";
                    solution = "ë°˜ë“œì‹œ ë¬¼ì„ ë§ì´ ë§ˆì‹œê³ , ë•€ì„ í˜ë¦¬ëŠ” ìœ ì‚°ì†Œ ìš´ë™ë³´ë‹¤ëŠ” ëª…ìƒì´ë‚˜ ìš”ê°€ì²˜ëŸ¼ ì—´ì„ ë‚´ë¦¬ëŠ” ì •ì ì¸ í™œë™ì´ í•„ìš”í•©ë‹ˆë‹¤. ë°¤ 11ì‹œ ì „ì—ëŠ” ë°˜ë“œì‹œ ì ìë¦¬ì— ë“œì‹­ì‹œì˜¤.";
                }
                return { context, conflict, mbtiReaction, solution };
            };

            const tabs = [
                { id: "total", title: "2026 ì´ìš´", icon: "âœ¨" }, { id: "wealth", title: "ì¬ë¬¼ìš´", icon: "ğŸ’°" },
                { id: "career", title: "ì§ì¥ìš´", icon: "ğŸ‘”" }, { id: "love", title: "ì—°ì• ìš´", icon: "â¤ï¸" },
                { id: "health", title: "ê±´ê°•ìš´", icon: "ğŸŒ¿" }, { id: "monthly", title: "ì›”ë³„ íë¦„", icon: "ğŸ“…" }
            ];

            const renderContent = () => {
                if (activeTab === 'monthly') {
                    const months = getMonthlyKeywords();
                    return (
                        <div className="space-y-4 animate-fadeIn">
                            <h3 className="text-xl font-serif text-green-300 mb-4 border-b border-green-500/30 pb-2">2026ë…„ ë³‘ì˜¤ë…„ ê³„ì ˆë³„ íë¦„</h3>
                            <div className="grid gap-4">
                                {months.map((m, idx) => (
                                    <div key={idx} className="bg-black/40 p-4 rounded-lg border border-green-500/10 hover:border-green-500/30 transition-colors">
                                        <div className="flex justify-between items-center mb-2">
                                            <span className="text-green-400 font-bold">{m.season}</span>
                                            <span className="text-xs text-green-200/60 bg-green-900/30 px-2 py-1 rounded">{m.text.split('-')[0]}</span>
                                        </div>
                                        <p className="text-green-100/90 text-sm font-bold mb-1">{m.text.split('-')[1]}</p>
                                        <p className="text-gray-400 text-xs leading-relaxed">{m.detail}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    );
                }
                const advice = getDetailedAdvice(activeTab);
                return (
                    <div className="space-y-6 text-green-50 animate-fadeIn text-justify">
                        <section><h4 className="text-green-400 text-sm font-bold uppercase tracking-wider mb-2">The Flow (ìš´ì„¸ì˜ íë¦„)</h4><p className="font-light leading-7 opacity-90">{advice.context}</p></section>
                        <section className="bg-red-900/10 p-4 rounded-lg border border-red-500/10"><h4 className="text-red-300 text-sm font-bold uppercase tracking-wider mb-2">Conflict (ìœ„ê¸°ì™€ ê°ˆë“±)</h4><p className="font-light leading-7 opacity-90">{advice.conflict}</p></section>
                        <section><h4 className="text-blue-300 text-sm font-bold uppercase tracking-wider mb-2">Your Tendency ({mbti} ë¶„ì„)</h4><p className="font-light leading-7 opacity-90">{advice.mbtiReaction}</p></section>
                        <section className="bg-green-500/10 p-5 rounded-xl border border-green-500/30"><h4 className="text-green-300 text-sm font-bold uppercase tracking-wider mb-2">Oracle's Solution (í–‰ë™ ì§€ì¹¨)</h4><p className="font-medium leading-7 text-green-50">{advice.solution}</p></section>
                    </div>
                );
            };

            return (
                <div className="min-h-screen flex flex-col items-center p-4 py-8 fade-in pb-20 z-10 relative">
                    <div className="w-full max-w-3xl flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-serif text-green-300 glow-text">The Oracle</h2>
                        <button onClick={onReset} className="text-xs text-green-400/60 hover:text-green-300 underline underline-offset-4">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                    </div>
                    <div className="glass-panel w-full max-w-3xl p-0 rounded-3xl mb-6 relative overflow-hidden flex flex-col md:flex-row min-h-[600px]">
                        <div className="w-full md:w-24 bg-black/20 md:border-r border-b md:border-b-0 border-green-500/10 flex md:flex-col justify-around md:justify-start md:pt-8 p-2">
                            {tabs.map((tab) => (
                                <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`flex flex-col items-center justify-center p-3 rounded-xl transition-all mb-2 ${activeTab === tab.id ? 'bg-green-500/20 text-green-300 shadow-[0_0_15px_rgba(0,255,136,0.2)]' : 'text-gray-500 hover:text-green-200 hover:bg-white/5'}`}>
                                    <span className="text-xl mb-1">{tab.icon}</span><span className="text-[10px] font-bold">{tab.title.split(' ')[0]}</span>
                                </button>
                            ))}
                        </div>
                        <div className="flex-1 p-6 md:p-8 overflow-y-auto max-h-[80vh]">
                            <div className="flex items-center justify-between mb-6 border-b border-green-500/20 pb-4">
                                <div><span className="text-xs bg-green-900/50 text-green-300 px-2 py-1 rounded border border-green-500/30">{pillars.day.gan}{pillars.day.ji}ì¼ì£¼</span><span className="ml-2 text-xs bg-blue-900/50 text-blue-300 px-2 py-1 rounded border border-blue-500/30">{mbti}</span></div>
                                <h2 className="text-xl font-bold text-white">{tabs.find(t => t.id === activeTab)?.title}</h2>
                            </div>
                            {renderContent()}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [gameState, setGameState] = useState('INTRO');
            const [userData, setUserData] = useState(null);

            const handleStart = () => setGameState('INPUT');
            const handleReset = () => { setUserData(null); setGameState('INTRO'); };
            const handleInputSubmit = (data) => {
                setGameState('LOADING');
                setTimeout(() => {
                    try {
                        const pillars = calculateSaju(data.birthDate, data.birthTime, data.gender, data.location);
                        const elements = analyzeElements(pillars);
                        setUserData({ ...data, pillars, elements });
                        setGameState('RESULT');
                    } catch (e) { alert("ì˜¤ë¥˜ ë°œìƒ: " + e.message); window.location.reload(); }
                }, 2500);
            };

            return (
                <div className="relative w-full min-h-screen bg-[#050505] text-[#e0ffe0] font-sans overflow-hidden selection:bg-green-500/30">
                    <div className="aurora-bg"></div>
                    {gameState === 'INTRO' && <IntroScreen onStart={handleStart} />}
                    {gameState === 'INPUT' && <InputScreen onSubmit={handleInputSubmit} />}
                    {gameState === 'LOADING' && <LoadingScreen />}
                    {gameState === 'RESULT' && <ResultScreen data={userData} onReset={handleReset} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

